<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src {{cspSource}} 'unsafe-inline'; img-src {{cspSource}} https:; script-src 'nonce-{{nonce}}' https://cdn.jsdelivr.net;">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link href="{{styleUri}}" rel="stylesheet">
    <title>Pastr</title>
</head>
<body class="flex flex-col h-screen text-white">
    <!-- UI content goes here -->
    <div class="flex-1 min-h-0 overflow-y-auto flex flex-col gap-4">
        <div class="w-full flex flex-col gap-4 m-auto px-5 min-[370px]:px-10 pt-5">
            <div class="flex flex-col items-center justify-center">
                <img src="{{iconUri}}" alt="Pastr Icon" class="text-color-white h-16">
            </div>
            <p class="text-center text-balance max-w-[250px] py-2.5 mx-auto">
                Generate, refactor, and debug code with AI assistance.
            </p>
            <div class="flex flex-col items-center justify-center px-5 py-2.5 gap-4">
                <div class="flex items-center gap-2 max-w-[250px]"><span><strong>Context</strong>: Open the files you want to include as context.</span></div>
                <div class="flex items-center gap-2 max-w-[250px]"><span><strong>Task</strong>: Type your task and click Generate & Copy.</span></div>
                <div class="flex items-center gap-2 max-w-[250px]"><span><strong>AI Provider</strong>: Paste the context into your AI provider's web UI.</span></div>
                <div class="flex items-center gap-2 max-w-[250px]"><span><strong>Apply Changes</strong>: Paste the AI response below and click Apply.</span></div>
            </div>
        </div>
    </div>
    <!-- Interactive Elements -->
    <div class="relative flex flex-col gap-2 m-2 p-1.5 w-[calc(100%-16px)] ml-auto mr-auto box-border">
        <div class="relative">
            <textarea id="prompt" placeholder="Type your task here..." class="w-full rounded-md py-1.5 px-2 border-1 border-gray-800 focus:border-blue-600 min-h-[90px] resize-none overflow-x-hidden overflow-y-auto pr-2 flex-none border-x flex-grow z-[2] scrollbar-none" style="height: 62px !important;"></textarea>
        </div>
        <button id="btn-generate" class="bg-sky-600 hover:bg-sky-700 rounded-md cursor-pointer text-white py-2 px-4 flex items-center justify-center gap-2">
            <img src="{{generateIconUri}}" alt="Generate Icon" class="h-6">
            Generate & Copy
        </button>
        <hr class="my-4 border-gray-800 mx-4">
        <div class="relative">
            <textarea id="diff-input" placeholder="Paste response here..." class="w-full rounded-md border-x py-1.5 px-2 border-1 border-gray-800 focus:border-blue-400 min-h-[40px] resize-none overflow-x-hidden overflow-y-auto pr-2 flex-none flex-grow z-[2] scrollbar-none"></textarea>
        </div>
        <button id="btn-apply" class="text-sm bg-green-600 hover:bg-green-700 cursor-pointer rounded-md text-white py-2 px-4 flex items-center justify-center gap-2">
            <img src="{{applyIconUri}}" alt="Apply Icon" class="h-4">
            Apply Changes
        </button>
    </div>
    <script nonce="{{nonce}}" src="{{scriptUri}}"></script>
</body>
</html>